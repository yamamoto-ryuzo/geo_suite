## GeoSuite — QGIS デスクトップ + WebGIS フルサイクル ツールスイート

GeoSuite は QGIS を中核に、データ取得から検索、Web 共有、出力（書類化）までをワンストップで自動化するプラグイン群です。4 つのプラグイン（`GeoImport` / `GeoSearch` / `GeoWebView` / `GeoReport`）により、ワークフロー「データ取得 → 検索 → Web 共有 → 出力（報告書生成）」をスムーズに実行できます。

## 概要

- 自動化対象: データの取り込み（ローカル/CKAN）から地図内検索、スタイル付き Web 共有、PDF/PNG/Atlas 出力まで。
- 対象ユーザ: QGIS を業務で使い、社内共有や Web 公開を簡易化したい組織。

## ワークフロー概要

```
ローカル/CKAN
	↓
GeoImport（自動 GIS 化）
	↓
GeoSearch（地図内検索）
	↓
GeoWebView（スタイル込 Web 共有 — 旧: `GeoView`）
	↓
GeoReport（レイアウト編集・出力＋報告書生成）
```

## 各ツール詳細

| ツール | 役割 | 主な機能 |
|---|---:|---|
| GeoImport | データ探索 → GIS 化 | CKAN/ローカル自動判定、CSV のジオメトリ化、自動インポート |
| GeoSearch | プロジェクト内地図検索 | 地番/所有者/属性検索、PostGIS 対応の高度検索機能 |
| GeoWebView | QGIS → Web 共有（スタイル込） | パーマリンク生成、MapLibre スタイル注入、WFS 配信 |
| GeoReport | レイアウト編集 → 出力 ＋ 報告書生成 | レイアウトテンプレート一括適用、レイアウト内アイテムのバッチ編集、RubberBand 印刷範囲、Atlas 一括出力。高解像度 PNG/PDF を生成すると同時に、出力メタデータ（タイトル・中心座標・スケール・レイヤ一覧等）を CSV/XLSX で出力し、画像を埋め込んだ Excel 形式の報告書を自動生成するワークフローをサポートします。 |

## 活用シナリオ

- 社内報告書作成: `GeoImport` → `GeoSearch` → `GeoWebView`（Excel リンク生成）→ `GeoReport`（高解像度 PNG/PDF とメタを出力し、Excel で一覧・説明資料を自動作成）
- Web 地図公開: `GeoWebView` で Re:Earth / MapLibre にスタイル転写、パーマリンク共有
- 大量出力: `GeoExport` のテンプレート機能で複数地域（例: 100 枚）を一括生成

## 使い始め

- 詳細なインストール手順や各プラグインの使い方は、各プラグインのドキュメント（または各リポジトリの README）を参照してください。

## フィードバック

- 質問や改善案があれば Issue を立ててください。

## 対応プロジェクト（GeoSuite コンポーネント → 実リポジトリ）

GeoSuite の各コンポーネントと現状リポジトリは以下の通りです。最新の状況は各リポジトリの README を参照してください。

### `GeoImport`（自動 GIS 化）
 `https://github.com/yamamoto-ryuzo/qgis-data-catalog-integration`  
  — CKAN やローカルフォルダを横断検索してデータを取得・登録するプラグイン。CSV の区切り文字・文字コードを自動判定してポイント/ライン/ポリゴンにジオメトリ化し、SQLite キャッシュで検索応答を高速化します。
### `GeoSearch`（地図内検索）  
 `https://github.com/yamamoto-ryuzo/GEO-search-plugin`   
 — 完成済みの検索モジュール。地番・所有者・一般属性など複数種類の検索をサポートし、結果はレイヤ別タブで表示されます。`selectTheme` によるテーマ適用や「加算表示モード」で既存表示を保ちながら検索結果を重ねる運用が可能です。
### `GeoWebView`（スタイル込 Web 共有 — 旧: `GeoView`）
 `https://github.com/yamamoto-ryuzo/QMapPermalink`   
 — QGIS の現在表示（中心・ズーム・レイヤ可視性・スタイル）をパーマリンクや HTML/PNG パッケージに変換して社内で共有するツールです。軽量 HTTP サーバーによる配信、WFS 経由の地物配信、MapLibre や OpenLayers へのスタイル注入をサポートします。
### `GeoReport`（旧: `GeoLayout` / `GeoExport` — レイアウト / 報告書生成）
`https://github.com/yamamoto-ryuzo/qgis-layoutitem-selector`  
	— レイアウトのテンプレート保存・一括適用、レイアウト内アイテムのバッチ編集、RubberBand による印刷範囲操作、Atlas 的な複数図面の一括出力を行うプラグインです。高解像度 PNG/PDF と出力メタデータ（CSV/XLSX）を同時に生成し、画像を埋め込んだ Excel 形式の報告書を自動生成して、説明資料作成の手間を削減します。

## 注

-- 上記リポジトリは開発段階の名称や構成が含まれるため、将来的にコンポーネント名（GeoImport/GeoWebView/GeoExport）へ統一する予定です。リンク先の README を参照して最新状況を確認してください。

## 将来の拡張 / 追加予定機能

以下は、各コンポーネントについて今後必要または有用となる拡張機能の候補です。特に QGIS の 3D 機能や最新のクラウド / Web 技術との連携を重視しています。優先度は運用要件により変わりますが、将来的なロードマップ作成の参考にしてください。

### 共通プラットフォーム（全体）
- OGC API for Features / Maps のサポート（WFS/WMTS → OGC API への移行）
- STAC / DCAT によるメタデータ連携と検索（データカタログ連携強化）
- Cloud Optimized GeoTIFF（COG）、MBTiles、MVT などクラウド最適化タイルの出力・配信
- コンテナ化（Docker）と CI/CD パイプライン、ユニット／統合テストの整備
- 認証・認可（OAuth2 / SAML）および監査ログの強化
- パフォーマンス計測とモニタリング（Prometheus / Grafana など）

### GeoImport（データ取得・インポート）
- STAC / DCAT カタログ対応の強化（メタデータ収集と自動インデックス化）
- 大容量データの取り込み（並列処理、ストリーミング、S3 互換ストレージ対応）
- LiDAR / 点群（LAS/LAZ）と 3D フィーチャ（CityGML, 3D Tiles）取り込みパイプライン（PDAL 統合）
- 自動ジオリファレンス・座標系検出の改善と変換サポート（複雑な投影対応）
- データ品質チェック自動化（ジオメトリ検証、属性スキーマ検査、エラー修正オプション）

### GeoSearch（検索）
- 空間全文検索と属性検索の強化（PostGIS + pg_trgm / Elasticsearch / OpenSearch 連携）
- 空間インデックスの最適化とフェデレーション検索（複数データソース横断検索）
- 時系列データ・バージョン管理に対応（履歴検索、差分抽出）
- 空間解析を組み込んだ検索フィルタ（バッファ、空間結合、属性スコアリング）
- 機械学習（空間クラスタリング、異常検知）を活用した検索補助機能

### GeoWebView（旧: GeoView — Web 共有）
- 3D 表示と配信: QGIS 3D 表示のスナップショットおよび Cesium / 3D Tiles へのエクスポート連携
- 点群ビジュアライゼーションの Web 配信（Entwine / Potree / Cesium 連携）
- OGC API / WebSocket によるリアルタイム更新（ライブデータ配信）
- Mapbox/MapLibre GL スタイル互換の完全サポート、スタイル編集 UI の強化
- ベクタタイル（MVT）生成とタイルキャッシュの自動化、CDN 配信パターンの導入
- アクセシビリティ対応（高コントラスト・音声案内・キーボード操作）と多言語化

### GeoReport（レイアウト・報告書生成）
- 3D スナップショットの組込み（静止画だけでなく簡易インタラクティブ HTML ビュー）
- 点群・断面図生成を含む高機能レポート（断面抽出、属性統計、サマリ表）
- Jupyter / Papermill ベースの再現可能なレポート生成フロー（データ処理 → レイアウト → エクスポート）
- Excel (XLSX) レポートのテンプレート化とカスタムマクロ連携、画像埋め込み・注釈の自動配置
- 大量出力のための分散実行（ワーカー／キュー）と途中再開（チェックポイント）機能
- PDF/A やアクセシブル PDF 出力、電子署名対応（報告書の公式利用を想定）

### 運用・管理機能（プラットフォーム横断）
- ロールベースの管理 UI と権限設定（プラグイン単位での権限付与）
- 自動バックアップと成果物（画像/レポート）ライフサイクル管理（保存期間・アーカイブ）
- テレメトリ（どのレポートがどのユーザにより、どのデータで生成されたか）の追跡
- 監査可能なワークフロー（承認ステップ、差分レビュー、差し戻し）

これらの機能はすべて必須ではありませんが、導入優先度は運用シナリオ（大量の点群処理が必要か、クラウド配信が主か、3D 可視化が不可欠か等）に依存します。必要であれば、優先度・概算工数・依存関係を含めた簡易ロードマップを作成します。
